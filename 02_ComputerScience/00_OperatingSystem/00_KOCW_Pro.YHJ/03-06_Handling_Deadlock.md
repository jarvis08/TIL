# 3-7. 교착 상태 처리, Handling Deadlock

교착 상태를 처리하는 방법에는 다음 네 가지가 있습니다.

- 교착 상태 **방지**, Deadlock **Prevention**
- 교착 상태 **회피**, Deadlock **Avoidance**
- 교착 상태 **검출 및 복구**, Deadlock **Detection & Recovery**
- 교착 상태 무시, **Don't Care**

<br>

<br>

## 3-7-1. 교착 상태 방지, Deadlock Prevention

교착 상태 네 가지 필요 조건 중 한 가지 이상이 결여되게 조치합니다.

<br>

### 상호 배타, Mutual Exclusion

자원의 공유가 가능하도록 합니다. 하지만 자원을 공유하는 것은 원천적으로 불가능할 수 있습니다.

<br>

### 보유 및 대기, Hold & Wait

자원을 가지고 있으면서, 다른 자원을 기다리지 않도록 합니다. 예를 들자면, 모든 필요한 자원들이 준비되기 전에는 특정 자원을 할당받지 않는 방법이 있습니다. 하지만 이러한 자원은 **자원의 활용률을 저하**시킬 수 있으며, **기아(Starvation)** 상황을 야기할 수 있습니다.

<br>

### 비선점, No Preemption

자원을 선점할 수 있도록 합니다만, 원천적으로 불가능할 수 있습니다. 그 예로 프린터가 있으며, 프린터의 경우 사용 도중 다른 프로세스로 변경되어서는 안됩니다.

<br>

### 환형 대기, Circular Wait

환형을 유지하지 않기 위해 자원에 번호를 부여하는 등의 행위가 가능합니다. 번호를 부여하여 오름차순으로 자원을 요청하도록 할 수도 있지만, **자원의 활용률이 저하**될 수 있습니다.

<br>

<br>

## 3-7-2. 교착 상태 회피, Deadlock Avoidance

자원 요청에 대한 잘못된 승인으로 인해 교착 상태가 발생하는 것으로 간주합니다. 따라서 자원 요청에 대해 불안전한 할당(Unsafe Allocation)을 피하고, 안전한 할당(Safe Allocation)을 하여 교착 상태를 회피합니다.

<br>

<br>

## 3-7-3. 교착 상태 검출 및 복구, Deadlock Detection & Recovery

교착 상태가 일어나는 것을 허용하지만, 주기적으로 검사하여 발생 시 복구합니다.

검출을 위해 검사에 따른 계산 및 메모리의 추가 부담(Overhead)을 감수해야 하며, 복구를 위해서는 일부 프로세스를 강제 종료해야 할 수 있고, 자원을 선점하여 일부 프로세스에게만 할당해야 합니다.

<br>

<br>

## 3-7-4. 교착 상태 무시

교착 상태는 실제로 잘 일어나지 않습니다. 위의 네 가지 조건들을 모두 만족한다 해도 발생하지 않을 수 있습니다. 따라서 교착 상태 발생 시 재시동하는 것으로 해결합니다.

