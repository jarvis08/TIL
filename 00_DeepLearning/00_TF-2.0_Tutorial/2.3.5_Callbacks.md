# 2.3.5 Callbacks

https://www.tensorflow.org/beta/guide/keras/overview?hl=ko

콜백(callback)은 훈련하는 동안 모델의 동작을 변경하고 확장하기 위해 전달하는 객체입니다. 자신만의 콜백을 작성하거나 다음과 같은 내장 [`tf.keras.callbacks`](https://www.tensorflow.org/api_docs/python/tf/keras/callbacks?hl=ko)을 사용할 수 있습니다:

- [`tf.keras.callbacks.ModelCheckpoint`](https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/ModelCheckpoint?hl=ko): 일정 간격으로 모델의 체크포인트를 저장합니다.
- [`tf.keras.callbacks.LearningRateScheduler`](https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/LearningRateScheduler?hl=ko): 학습률(learning rate)을 동적으로 변경합니다.
- [`tf.keras.callbacks.EarlyStopping`](https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/EarlyStopping?hl=ko): 검증 성능이 향상되지 않으면 훈련을 중지합니다.
- [`tf.keras.callbacks.TensorBoard`](https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/TensorBoard?hl=ko): [텐서보드](https://tensorflow.org/tensorboard?hl=ko)를 사용하여 모델을 모니터링합니다.

[`tf.keras.callbacks.Callback`](https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/Callback?hl=ko)을 사용하려면 모델의 `fit` 메서드에 전달합니다:

```python
callbacks = [
  # `val_loss`가 2번의 에포크에 걸쳐 향상되지 않으면 훈련을 멈춥니다.
  tf.keras.callbacks.EarlyStopping(patience=2, monitor='val_loss'),
  # `./logs` 디렉토리에 텐서보드 로그를 기록니다.
  tf.keras.callbacks.TensorBoard(log_dir='./logs')
]
model.fit(data, labels, batch_size=32, epochs=5, callbacks=callbacks,
          validation_data=(val_data, val_labels))
```

```python
Train on 1000 samples, validate on 100 samples
Epoch 1/5
1000/1000 [==============================] - 0s 164us/sample - loss: 11.5953 - accuracy: 0.1110 - val_loss: 11.5409 - val_accuracy: 0.1000
Epoch 2/5
1000/1000 [==============================] - 0s 80us/sample - loss: 11.5934 - accuracy: 0.1110 - val_loss: 11.5385 - val_accuracy: 0.0900
Epoch 3/5
1000/1000 [==============================] - 0s 76us/sample - loss: 11.5924 - accuracy: 0.1240 - val_loss: 11.5383 - val_accuracy: 0.1000
Epoch 4/5
1000/1000 [==============================] - 0s 77us/sample - loss: 11.5914 - accuracy: 0.1180 - val_loss: 11.5363 - val_accuracy: 0.0800
Epoch 5/5
1000/1000 [==============================] - 0s 78us/sample - loss: 11.5900 - accuracy: 0.1300 - val_loss: 11.5352 - val_accuracy: 0.0900

<tensorflow.python.keras.callbacks.History at 0x7fca100a0a20>
```

